	\section{Feature Construction}
		\label{sec:feature}
				The dataset can be used many ways and this section describes one way. This section describes a new dataset set based on the extended dataset of Section~\ref{sec:extendeddataset}. This dataset is a set of data which can be used to make a model of the data. Section \ref{sec:datamodeling} explains more about what a model is. The frequency of the new dataset is on average \SI{11.57}{\micro\hertz} and the output is a csv file with for every day a row. Note a day starts after waking up and it ends the next day before waking up. So not every day is 24 hours long, therefore the sampling frequency is not constant. Heart rate is an example of a feature. It is a feature of the dataset and every second has an average heart rate. A new feature is the average heart rate of the day. If the user has a sporty day the average heart rate will rise. However, it will not rise if the user is going to bed early and has a few hour extra sleep. The extra sleep will result in a low average heart rate and will compensate the activity during the day. A solution is to split the average heart rate in multiple features. Ranges of heartbeats are selected and the minutes of every range are counted. The new features are \emph{40-}, \emph{40-60}, ... \emph{120-140}, \emph{140+}, \emph{100-}, \emph{100+}. If a minute has an average heart beat of 80, it will lay in two ranges, \emph{80-100} and \emph{100-}. A sporty day will have a lot of minutes in the 100+ range, but still could have the same amount of minutes in the \emph{40-60} range. 

			Beddit gives in the online interface not only the results of the night, but also advice. "To follow good circadian rhythm, try to always wake up at the same time, also in weekends. Irregular sleeping times make it harder for you to fall asleep and to wake up." As response to this advise two features are added. The amount of minutes woke up after 08:00 and the amount of minutes went to bed after 22:00. The values could also be negative, if the wake up or to bed time is before the threshold. In addition to these two features, the difference with the last day is also important to know. How much minutes earlier or later than yesterday did the user woke up or did the user go to bed. 
			During the day there are ranges of heart rates, but this could also applied to the night. However, the night is less varied. Beddit can still detect different stages of the sleep (seen in Section \ref{sec:datadescriptionbeddit}). The amount of seconds in a stage are counted.
			 Beddit also provides some extra features about the day, which could not be integrated in the dataset, because of the different sampling frequency. These features are the stress percent and the resting heart rate and can be integrated in the dataset.
				
			The amount of seconds at the locations are summed up, the average noise, luminosity and temperature are calculated. From the sleep stages the total amount of sleep could be calculated, the amount of wake in bed and also the sleep efficiency (the relative time slept in bed)

		\iffalse
			"Feature extracting creates new features from function of the original features"
			Dataset to training set
			From 1 hertz to  ~ 11.57 micro hertz 
			one day for each row. this will be used in the next chapter.
			Average heart rate per day
			divided heart rate in classes of 40-, 40-60, 60-80, 80-100, 100-120, 120-140, 140+, 100-, 100+
			A day starts at the end of the sleep of the previous day.
			32 moments of going in or out of bed. In 15 days, which means two extra in and out. Probably went to the toilet.
			Minutes wake up after 8:00 am
			Minutes to bed after 22:00 pm.
			Minutes differents between wake up and to bed.
			amount of minutes in a stage.
			seconds at a location
			stress percent
			time in bed, light sleep, deep sleep
			sleep inefficiency,
			resting heart rate
			avg Noise, lum, temp
		\fi


