\section{Experiments}
	\subsection{Data description}
		\subsubsection{BioHarness}
			From the data produced by the sensors more data can be derived. The heart rate is the amount of beats per minute and can be derived from the ECG.  
			Activity from acceleratometer? range 16 VMU (g).
			Posture -/+ 180 degrees. 0 degree is vertical, inverted = 180 degree, also from acceleratometer?
			Breath rate from the breath sensor. 
			The relative slow transfer rate from the device to the pc can be explained by the calculating/generation/computing of the new data.
			The sampling frequency from the csv files is \SI{1}{\hertz}.
		\subsubsection{Beddit}
			The data from the sensors are being transferred via wifi or cable to the web servers from Beddit, almost realtime. The servers are analyzing the data and extracting the heart rate, respiration\footnote{Beddit is using the term respiration for breathing.} and the activity from the BCG. When all data is received of the night, the server is analyzing the data and will compute the sleep stages, sleep efficiency\footnote{Relative time sleeping compared to time in bed}, average heart rata, average noise level and stress level. The stages are "Away", "Wake", "Light sleep", "Deep sleep" and "Missing". Beddit don't use a constant sampling frequency. For the respiration and the instant heart rate there is a record for every beat, with the bpm computed from two single heart beats/respiration and the timestamp in seconds since the start of the session. Presence has a record for every second the presence is changing and a 0 if the user is not in bed and a 1 if the user is in bed. The binary actigram has a record for every second there is a movement above a certain threshold. The minutely actigram has for every second 

		\subsubsection{OpenBeacon}
			The Openbeacon produces JSON and is stored in a NoSQL\footnote{A NoSQL database is counterpart of relational database. One argument to use it is because it's more flexible.} database MongoDB.
			There are two collections. The collection tags, within documents with the format ID, timestamp. For every second the OpenBeacon sees a tag, a document will be added.
			The second collection is edges. For every second the OpenBeacon sees and edge between two tags, there will be one document added with the format ID of tag 1, ID of tag 2, power level and timestamp.
			The higher the power level the closer the tags are. The power level can not be expressed in terms of distance, because other things could interfere the power level. For example walls and other communication on the \SI{2.4}{\giga\hertz} frequency.
	\subsection{Beddit versus Bioharness}
		\subsubsection{General}
			Why - to have a baseline and to know if the devices measure the same thing. To check if it's possible to combine the data.
			What - Heart rate, breath rate, activity
		\subsubsection{Comparison}
			Beddit on and BioHarness on during two nights.
			Beddit does not have a constant Hz. Sum all data of heart beats in a minute and divide by total, to get average ihr of the minute. 
			Bioharness needs to convert from seconds to minutes. To the same for breath rate. 
			Beddit activity and BioHarness activity are different things, so standarize.

		\subsubsection{Results}
			HR is correlated 0.95 when moving average is used.
			BR is 0.3?, very low. They are measering something else.
			Activity has some patterns, but is not measurable in terms of correlation.
	\subsection{Data collection}
		\subsubsection{Setup}
			\paragraph{Beddit}
				Beddit starts at 21:30 till 11:00 next day. 
			\paragraph{BioHarness}
				After waking up, turn pc on, extract data from BioHarness. Go showering, breakfast and put BioHarness on when extracting is done. Before showering off, after showering on. Before sleeping, connect to pc to recharge. 
			\paragraph{Openbeacon}
		 		In the experiment the OpenBeacon is used as a localization tool. The location of the user could explain some behaviour during the day, which can explain behaviour during the night. 
				Openbeacon is always on, but the tracking script not. I'm starting the script after waking up, turn it of when I'm leaving the house, turn it on whem I'm coming home, and turn it off when I'm going to sleep. The tags are placed at x, y, z and the tag I'm wearing is 1042. 
		\subsubsection{Problems}
			Beddit: strap chances position. Doesn't cover whole bed. 
			Openbeacon: At first we had two devices and then it covers my whole house, but one device stopped working. I takes a moment to get an edge between two tags. A few minutes are missing because of starting laptop after wake up, coming home and leaving home. Need to wear a tag everytime. Sometimes no heartrate or outlier. Broke a tag.
			Bioharness: Takes 40 minutes to upload data from device to pc, I haven't wear it in the shower. Missing some minutes while washing the strap of the device. Chances position. 
		\subsubsection{Preprocessing}
			Difficult because of the differnet devices has different frequenties, different data format/extraction. 
			Dataset, every second from start till end is a row. BioHarness already gives an 1Hz dataset, so fill in the values if BioHarness is on. 
			Openbeacon is 4Hz and can easily converted to 1Hz.
			Beddit is difficult, some attributes are received once per 5 minutes and some attributes are between 4 and 15 seconds, not constant at all. Format of time sometimes seconds after interval\_start and sometime datetime.
		
